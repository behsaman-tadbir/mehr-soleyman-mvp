@font-face{
  font-family:"Vazirmatn";
  src:url("fonts/Vazirmatn-Regular.woff2") format("woff2");
  font-weight:400;
  font-style:normal;
  font-display:swap;
}

/* === Patch: Search hint wrapping + dropdown visibility inside collapsible header-bottom === */
.header-search { flex-wrap: nowrap; }
.header-search input { min-width: 0; }
.header-search .search-hint { white-space: nowrap; }

@media (min-width: 769px) {
  /* When categories dropdown is open, header-bottom must not clip the panel */
  .site-header.is-nav-dropdown-open .header-bottom {
    overflow: visible;
    max-height: 420px;
    pointer-events: auto;
  }
}
@font-face{
  font-family:"Vazirmatn";
  src:url("fonts/Vazirmatn-Medium.woff2") format("woff2");
  font-weight:500;
  font-style:normal;
  font-display:swap;
}
@font-face{
  font-family:"Vazirmatn";
  src:url("fonts/Vazirmatn-Bold.woff2") format("woff2");
  font-weight:700;
  font-style:normal;
  font-display:swap;
}

:root{--bg:#f8fafc;--surface:#ffffff;--surface-2:rgba(255,255,255,.72);--text-1:#0f172a;--text-2:rgba(15,23,42,.74);--muted:#94a3b8;--border:rgba(15,23,42,.10);--sky:#38bdf8;--sky-2:#2563eb;--lime:#a3e635;--orange:#f97316;--purple:#a78bfa;--focus:rgba(37,99,235,.46);--hover:rgba(15,23,42,.04);--r-sm:12px;--r-md:16px;--r-lg:22px;--shadow-sm:0 8px 20px rgba(15,23,42,.06);--shadow-md:0 14px 30px rgba(15,23,42,.08);--s-1:4px;--s-2:8px;--s-3:12px;--s-4:16px;--s-5:20px;--s-6:24px;--s-8:32px;--fs-1:.875rem;--fs-2:1rem;--fs-3:1.125rem;--fs-4:1.35rem;--fs-5:1.75rem;--lh:1.85}:where(a,button,input,select,textarea,[role="button"],[tabindex]):focus-visible{outline:3px solid var(--focus);outline-offset:2px;border-radius:12px}::selection{background:rgba(56,189,248,.35)}@media(prefers-reduced-motion:reduce){*,*::before,*::after{scroll-behavior:auto !important;animation-duration:0.001ms !important;animation-iteration-count:1 !important;transition-duration:0.001ms !important}}*{margin:0;padding:0;box-sizing:border-box}html{font-size:16px;font-family:"Vazirmatn",-apple-system,BlinkMacSystemFont,sans-serif}body{font-family:"Vazirmatn",sans-serif;direction:rtl;background:var(--bg);color:var(--text-1);line-height:var(--lh);font-weight:400;overflow-x:hidden}button,input,select,textarea{font-family:inherit}h1,h2,h3,h4{font-weight:700;letter-spacing:-0.3px}a{text-decoration:none;color:inherit}img{max-width:100%;height:auto;display:block}.container{width:100%;margin:0 auto;padding-inline:20px}@media (min-width:1024px){.container{padding-inline:32px}}.btn{--btn-bg:var(--sky-2);--btn-fg:#fff;--btn-bd:transparent;display:inline-flex;align-items:center;justify-content:center;gap:8px;min-height:44px;padding:10px 14px;border-radius:14px;border:1px solid var(--btn-bd);background:var(--btn-bg);color:var(--btn-fg);font-size:.92rem;font-weight:900;cursor:pointer;user-select:none;transition:transform 160ms ease,box-shadow 160ms ease,filter 160ms ease,border-color 160ms ease;box-shadow:0 12px 26px rgba(37,99,235,.18)}.btn:hover{transform:translateY(-1px);filter:saturate(1.04);box-shadow:0 16px 34px rgba(15,23,42,.12)}.btn:active{transform:translateY(0);box-shadow:0 10px 22px rgba(15,23,42,.10)}.btn-primary{--btn-bg:linear-gradient(135deg,#fb923c,var(--orange));--btn-fg:#0b1220;--btn-bd:rgba(249,115,22,.30);box-shadow:0 12px 26px rgba(249,115,22,.20)}.btn-outline{--btn-bg:rgba(255,255,255,.86);--btn-fg:var(--text-1);--btn-bd:rgba(15,23,42,.14);box-shadow:0 10px 22px rgba(15,23,42,.06)}.btn-outline:hover{border-color:rgba(37,99,235,.35);box-shadow:0 14px 28px rgba(37,99,235,.12)}.input,input[type="text"],input[type="email"],input[type="password"],input[type="search"],select,textarea{border:1px solid rgba(15,23,42,.12);border-radius:14px;background:rgba(255,255,255,.88);padding:12px 12px;min-height:44px}.product-media{width:100%;aspect-ratio:4/3;border-radius:16px;overflow:hidden;background:rgba(56,189,248,.16)}.product-media img{width:100%;height:100%;object-fit:cover;display:block}.product-actions{display:flex;gap:10px;margin-top:10px;flex-wrap:wrap}.product-actions .btn{padding:10px 12px;border-radius:14px}.cart-badge[hidden]{display:none}.phone-ltr{direction:ltr;unicode-bidi:plaintext;display:inline-block;font-variant-numeric:tabular-nums}.site-header {
  background: #fff;
  border-bottom: 1px solid #2563eb;
  position: sticky;
  top: 0;
  z-index: 3000;
  box-shadow: 0 16px 45px rgba(15, 23, 42, 0.06);
}

/* === Brand hover (desktop only) === */
@media (hover: hover) and (pointer: fine) {
  .site-header .brand-title {
    background-size: 200% 100%;
    background-position: 0% 50%;
    transition: background-position 0.35s ease, filter 0.25s ease, transform 0.2s ease;
  }

  .site-header .brand-img {
    transition: filter 0.25s ease, transform 0.2s ease;
  }

  .site-header .brand-link:hover .brand-title,
  .site-header .brand-link:focus-visible .brand-title {
    background-position: 100% 50%;
    filter: brightness(1.08);
    transform: translateY(-0.5px);
  }

  .site-header .brand-link:hover .brand-img,
  .site-header .brand-link:focus-visible .brand-img {
    filter:
      drop-shadow(0 10px 22px rgba(15, 23, 42, 0.16))
      drop-shadow(0 0 16px rgba(56, 189, 248, 0.22));
    transform: translateY(-0.5px);
  }
}

@media (prefers-reduced-motion: reduce) {
  .site-header .brand-title,
  .site-header .brand-img {
    transition: none !important;
  }
}

/* ===== Step A: Header visual + layout (Desktop-first) ===== */
.site-header{background:rgba(255,255,255,.82);backdrop-filter:saturate(140%) blur(10px)}

.header-right--dk2{display:flex;align-items:center;justify-content:flex-end;gap:14px;flex-wrap:wrap}
.brand-link--plain{display:flex;align-items:center;gap:10px}
.brand-link--plain:hover 
/* Make header title match footer style but slightly more prominent */
.site-header .brand-title--grad{font-size:1.55rem;line-height:1;font-weight:900;letter-spacing:-.2px;
  background:linear-gradient(90deg,var(--sky),var(--lime),var(--purple));
  -webkit-background-clip:text;background-clip:text;color:transparent}
/* Main nav: overall muted, but categories slightly higher contrast (existing .nav-cats) */
.main-nav a{color:rgba(51,65,85,.68)}
.main-nav a:hover{color:rgba(15,23,42,.92)}
/* Mobile: only logo + title in header; hide search + nav (will live elsewhere later) */
@media (max-width:768px){
  .header-search--muted{display:none !important}
  .main-nav{display:none !important}
  
    .site-header .brand-title--grad{font-size:1.35rem}
}

.auth-trigger:hover{transform:translateY(-1px);box-shadow:0 14px 30px rgba(10,20,40,.12)}
.auth-trigger:active{transform:translateY(0)}

.search-input{width:100%;min-height:44px;padding:10px 14px;border-radius:14px;border:1px solid color-mix(in oklab,var(--text)10%,white 90%);background:color-mix(in oklab, var(--surface) 70%, #eef2f7 30%);color:color-mix(in oklab,var(--text) 70%, #6b7280 30%)}

.search-input::placeholder{color:#9aa4b2}

/* ---- Hotfix: in muted main-nav, dropdown toggle must also be muted (not primary blue) ---- */
.main-nav--muted .nav-dropdown-toggle{background:transparent !important;border-color:transparent !important;box-shadow:none !important;color:rgba(15,23,42,.55) !important;font-weight:900}
.main-nav--muted .nav-dropdown-toggle:hover{color:rgba(37,99,235,.85) !important;background:rgba(15,23,42,.04) !important}

/* Ensure dropdown panel is clickable above header layers */
.nav-item.has-dropdown{z-index:3400}
.nav-item.has-dropdown .dropdown-panel{z-index:9999}

/* =========================
   Step C – Header/Auth polish + Responsive rules
   ========================= */

/* Header login button (desktop) */
.is-auth #headerAuthBtn{display:none !important;}

.auth-trigger:hover{transform:translateY(-1px);box-shadow:0 14px 30px rgba(17,24,39,.12);border-color:rgba(124,58,237,.22)}
.auth-trigger:active{transform:translateY(0)}

/* Inline popover */
.auth-popover{
  width:min(320px, 92vw);
  margin-top:10px;
  border-radius:16px;
  border:1px solid rgba(124,58,237,.18);
  background:linear-gradient(135deg,rgba(255,255,255,.98),rgba(248,250,252,.92));
  box-shadow:0 18px 44px rgba(17,24,39,.14);
  overflow:hidden;
}
.auth-form{padding:14px}
.auth-row{display:grid;gap:6px;margin-bottom:10px}
.auth-label{font-weight:700;font-size:.84rem;color:rgba(17,24,39,.72)}
.auth-input{
  height:44px;
  border-radius:12px;
  border:1px solid rgba(17,24,39,.14);
  background:rgba(255,255,255,.9);
  padding:0 12px;
  outline:none;
}
.auth-input:focus{
  border-color:rgba(124,58,237,.45);
  box-shadow:0 0 0 4px rgba(124,58,237,.16);
}
.auth-submit{width:100%;height:44px;border-radius:12px}

/* User menu (avatar + dropdown) */
.user-menu__trigger{
  display:inline-flex;
  align-items:center;
  gap:10px;
  padding:8px 10px;
  border-radius:999px;
  border:1px solid rgba(17,24,39,.14);
  background:rgba(255,255,255,.84);
  box-shadow:0 10px 24px rgba(17,24,39,.08);
}
.um-avatar img{width:36px;height:36px;border-radius:999px;object-fit:cover}
.user-menu__dropdown{
  width:min(320px, 92vw);
  margin-top:10px;
  border-radius:16px;
  border:1px solid rgba(124,58,237,.18);
  background:linear-gradient(135deg,rgba(255,255,255,.98),rgba(248,250,252,.92));
  box-shadow:0 18px 44px rgba(17,24,39,.14);
  overflow:hidden;
}
.um-head{padding:12px 14px;border-bottom:1px solid rgba(17,24,39,.08)}
.um-credit{font-weight:900;color:rgba(234,88,12,.95);margin-bottom:6px}
.user-menu__link,.user-menu__logout{
  display:flex;align-items:center;justify-content:space-between;
  padding:10px 14px;
  font-weight:700;
}
.user-menu__link:hover,.user-menu__logout:hover{background:rgba(124,58,237,.06)}

/* Main nav dropdown should open UNDER the categories button (not inside a box) */
.main-nav .nav-item.has-dropdown{position:relative}
.main-nav .dropdown-panel{
  position:absolute;
  inset-inline-start:0;
  top:calc(100% + 10px);
  z-index:3500;

  min-width: 260px;
  padding: 10px;
  border-radius: 16px;
  background: linear-gradient(180deg, rgba(255,255,255,.96), rgba(248,250,252,.98));
  border: 1px solid rgba(15,23,42,.08);
  box-shadow: 0 20px 40px rgba(15,23,42,.12), 0 4px 12px rgba(15,23,42,.08);
}

/* Dropdown items layout (one item per line) */
.dropdown-grid{
  display: grid;
  grid-template-columns: 1fr;
  gap: 6px;
}
.dropdown-grid a{
  display: flex;
  align-items: center;
  width: 100%;
  padding: 10px 12px;
  border-radius: 12px;
  text-decoration: none;
  color: color-mix(in oklab,var(--text) 88%, #64748b 12%);
  background: rgba(255,255,255,.72);
  border: 1px solid rgba(15,23,42,.06);
  white-space: nowrap;
}
.dropdown-grid a:hover{
  background: rgba(241,245,249,.92);
  border-color: rgba(15,23,42,.10);
}

/* Responsive: header shows only brand; auth/search/nav hidden */
@media (max-width: 768px){/* Explicit: never show desktop auth trigger on mobile */
  

  
  
  .brand-title--grad{font-size:1.2rem}
}

/* =========================
   Header tweaks: brand prominence + muted search icon on the right
   ========================= */
@media (min-width: 769px){
  /* Make logo + product name the center of attention */
    .site-header .brand-title--grad{font-size:1.55rem;font-weight:900;letter-spacing:-0.6px;}

  }

@media (max-width: 768px){
  /* Mobile header: show brand nicely */
    .site-header .brand-title--grad{font-size:1.28rem;font-weight:900;}
}

/* Mobile bottom-nav: make sure items are tappable */
@media (max-width: 768px){
  .bottom-nav .bn-item{min-height:56px}
}

/* -------------------------
   Step E – Mobile account dropdown in sheet
   ------------------------- */
#mobileAuthSheet .user-menu__dropdown{
  position: static;
  width: 100%;
  box-shadow: none;
  border-radius: 14px;
  border: 1px solid rgba(15,23,42,.10);
  padding: 10px;
}

/* === StepF: Brand/Search tweaks (requested) === */
.page-home .site-header .brand-title{
  font-weight:900;
  font-size:2.15rem;
  line-height:1;
  letter-spacing:-0.2px;
  background:linear-gradient(90deg, rgba(14,165,233,0.95), rgba(124,58,237,0.92));
  -webkit-background-clip:text;
  background-clip:text;
  color:transparent;
}

.page-home .site-header .brand-img{
  width:65px;
  height:65px;
  object-fit:contain;
  display:block;
}

/* Muted search: icon right of "جستجو" (desktop) */

.header-search--muted .search-hint{
  position:absolute;
  right:38px;
  top:50%;
  transform:translateY(-50%);
  font-weight:800;
  font-size:0.92rem;
  color:rgba(51,65,85,0.58);
  pointer-events:none;
  user-select:none;
}

.header-search--muted input{
  padding-right:96px;
}

@media (min-width: 769px){
  .header-search--muted .search-btn{
    position:absolute;
    right:10px;
    top:50%;
    transform:translateY(-50%);
    width:18px;
    height:18px;
    border:none;
    background:transparent;
    padding:0;
    border-radius:0;
    color:rgba(51,65,85,0.72);
    opacity:1;
  }
  .header-search--muted .search-ico{
    width:18px;
    height:18px;
  }
}

/* Mobile: keep compact brand sizes */
@media (max-width: 768px){
  .page-home .site-header .brand-title{
    font-size:1.35rem;
  }
  .page-home .site-header .brand-img{
    width:44px;
    height:44px;
  }
  .header-search--muted .search-hint{display:none;}
  .header-search--muted input{padding-right:12px;}
}

/* A11y */
.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}

/* Auth modal (Desktop) */
.auth-modal{
  position:fixed;
  inset:0;
  z-index:9999;
  display:flex;
  align-items:flex-start;
  justify-content:center;
  padding:clamp(16px,3vw,28px);
  background:rgba(15,23,42,.42);
  backdrop-filter:saturate(120%) blur(6px);
}
.auth-modal[hidden]{display:none}
.auth-modal__dialog{
  width:min(420px, 92vw);
  margin-top:clamp(10px, 6vh, 64px);
  background:rgba(255,255,255,.96);
  border:1px solid rgba(148,163,184,.35);
  border-radius:18px;
  box-shadow:0 24px 64px rgba(15,23,42,.22);
  overflow:hidden;
}
.auth-modal__head{
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:12px 14px 10px;
  border-bottom:1px solid rgba(148,163,184,.28);
}
.auth-modal__title{
  font-weight:800;
  color:rgba(15,23,42,.92);
  letter-spacing:-.2px;
}
.auth-modal__close{
  width:38px;height:38px;
  border:none;
  border-radius:12px;
  background:rgba(148,163,184,.18);
  color:rgba(51,65,85,.9);
  display:flex;align-items:center;justify-content:center;
  cursor:pointer;
  transition:transform .12s ease, background .12s ease;
}
.auth-modal__close:hover{background:rgba(148,163,184,.24)}
.auth-modal__close:active{transform:scale(.98)}
@media (prefers-reduced-motion: reduce){
  .auth-modal__close{transition:none}
}

body.modal-open{overflow:hidden}.auth-trigger {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 4px 15px;
  border-radius: 19px;
  border: 1px solid rgba(17, 24, 39, 0.14);
  background: linear-gradient(219deg, rgb(251 137 49), rgb(250 137 49));
  box-shadow: 0 10px 24px rgba(17, 24, 39, 0.08);
  font-weight: bold;
  font-size: 0.95rem;
  line-height: 1;
  cursor: pointer;
  transition: transform 0.15s ease, box-shadow 0.15s ease, border-color 0.15s ease;
  color: #fff;
}

.auth-ico {
  font-size: 2rem;
  color: #fff;
}

/* === Desktop: auto-collapse header bottom on scroll (Step J) === */
@media (min-width: 769px) {
  .site-header .header-bottom {
    overflow: hidden;
    max-height: 120px;
    transition:
      max-height 0.22s ease,
      padding 0.22s ease,
      margin 0.22s ease;
    will-change: max-height;
  }

  .site-header.is-bottom-collapsed .header-bottom {
    max-height: 0;
    margin-top: 0;
    padding-top: 0;
    padding-bottom: 0;
    pointer-events: none;
  }
}

/* ===== Step J2: Header-bottom pro collapse + text-only nav + underline hover ===== */
@media (min-width: 769px) {
  .header-bottom {
    margin: 10px auto 0;
    padding-top: 0px;
    padding-bottom: 0px;
  }
/* Make header-bottom nav items text-like (no boxes), but still tappable */
  .header-bottom .nav-link {
    background: transparent !important;
    border: 0 !important;
    border-radius: 0 !important;
    box-shadow: none !important;
    padding: 10px 10px;
    line-height: 1.1;
  }

  /* Professional hover: underline at bottom edge */
  .header-bottom .nav-link:hover,
  .header-bottom .nav-link:focus-visible {
    box-shadow: inset 0 -2px 0 rgba(14, 165, 233, 0.85) !important;
    outline: none;
  }

  /* Cats emphasis: bigger + bolder + slightly darker + same style family */
  .header-bottom .nav-link--cats,
  .header-bottom .nav-dropdown-toggle.nav-link--cats {
    font-weight: 800;
    font-size: 1.05rem;
    color: rgba(15, 23, 42, 0.86);
  }

  /* Dropdown panel items: one per line, clean */
  .dropdown-panel .dropdown-grid {
    display: flex !important;
    flex-direction: column !important;
    gap: 6px !important;
  }

  .dropdown-panel .dropdown-grid a {
    display: flex !important;
    align-items: center;
    width: 100% !important;
    white-space: nowrap;
  }
}


/* === Mobile header: show only brand (logo + title) === */
@media (max-width: 768px){
  .site-header{display:block;}
  /* keep header visible even if older rules hide desktop layout blocks */
  .site-header .header-right,
  .site-header .header-right--dk2{
    display:flex !important;
    align-items:center;
    justify-content:flex-end;
    gap:10px;
  }
  .site-header .brand-link{display:flex !important; align-items:center; gap:10px;}
  .site-header .brand-img{width:56px; height:56px;}
  .site-header .brand-title{font-size:1.55rem; line-height:1; font-weight:900;}}




/* ===== Step Q: Mobile header (brand right + search left) + Home responsive alignment ===== */

/* Mobile header: show brand + search only */
@media (max-width: 768px){.site-header .header-right--dk2{
    width: 100%;
    display: flex;
    align-items: center;
    justify-content: flex-start;
  }

  .site-header .brand-link{
    flex: 0 0 auto;
  }

  .site-header .header-search{
    display: flex !important;
    flex: 1 1 auto;
    min-width: 0;
    max-width: none;
    margin-right: 10px;
    padding: 0 14px;
  }

  .site-header .header-search .search-hint{
    white-space: nowrap;
    font-size: 0.92rem;
    color: rgba(51, 65, 85, 0.72);
  }

  .site-header .header-search input[type="search"]{
    min-width: 0;
    width: 100%;
  }
}

/* Hero: slider first, ads below on mobile */
@media (max-width: 768px){
  .hero-grid{
    display: flex;
    gap: 12px;
  }
  .hero-grid .post-slider{ order: 1; }
  .hero-grid .ads-rubik{ order: 2; }
}

/* Categories: center and balance */
.category-circles{
  justify-items: center;
  margin-inline: auto;
}
@media (max-width: 768px){
  .category-circles{
    grid-template-columns: repeat(3, minmax(0, 1fr));
    gap: 12px;
  }
}

/* Popular centers: center on desktop, rail on mobile */
@media (min-width: 769px){
  .logo-rail{
    justify-content: center;
    flex-wrap: wrap;
    overflow: visible;
    scroll-snap-type: none;
  }
}

/* === Mobile header: brand right, auth left (remove search from header) === */
@media (max-width: 768px) {/* brand (logo + title) should stay on the right */
  .site-header .header-right--dk2 {
    display: flex !important;
    align-items: center;
    justify-content: flex-end;
    flex: 1 1 auto;
    min-width: 0;
  }/* remove search from mobile header */
  .site-header .header-search {
    display: none !important;
  }

  /* prevent brand wrapping */
  .site-header .brand-link {
    max-width: 100%;
    min-width: 0;
  }
  .site-header .brand-title {
    white-space: nowrap;
  }

  /* avoid duplicate login entry: bottom nav auth button hidden when header auth is present */
  #bnAuthBtn {
    display: none !important;
  }
}


/* === Mobile header: 50/50 split (left auth, right brand) === */
@media (max-width: 768px) {
  /* Keep header visible; hide only the things we don't want in mobile header */
  .site-header .header-search,
  .site-header .header-search--muted,
  .site-header .header-bottom {
    display: none !important;
  }.site-header .header-right--dk2 {
    display: flex !important;
    align-items: center;
    justify-content: flex-end;
    flex: 0 0 50%;
    max-width: 50%;
    min-width: 0;
    flex-wrap: nowrap;
  }

  /* Prevent brand overflow */
  .site-header .brand-link--plain {
    max-width: 100%;
    min-width: 0;
  }

  .site-header .brand-title--grad {
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }

  /* Keep auth control compact so it doesn't wrap */
  .site-header .auth-trigger,
  .site-header .user-menu__trigger {
    max-width: 100%;
  }

  /* Avoid duplicate login entry: bottom nav auth hidden when header auth is present */
  #bnAuthBtn {
    display: none !important;
  }
}

/* === Mobile header: 50/50 split (left auth, right brand) === */
@media (max-width: 768px) {
  /* Keep header visible; hide only the things we don't want in mobile header */
  .site-header .header-search,
  .site-header .header-search--muted,
  .site-header .header-bottom {
    display: none !important;
  }/* RIGHT 50%: brand */
  .site-header .header-right--dk2 {
    display: flex;
    align-items: center;
    justify-content: flex-end;
    flex: 0 0 50%;
    max-width: 50%;
    min-width: 0;
    flex-wrap: nowrap;
  }

  /* Brand should never wrap and never push auth to a new line */
  .site-header .brand-link--plain {
    max-width: 100%;
    min-width: 0;
    overflow: hidden;
  }
  .site-header .brand-title--grad {
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }

  /* Avoid duplicate login entry: keep bottom nav auth hidden when header auth is visible */
  #bnAuthBtn {
    display: none !important;
  }
}

/* === Mobile header: 50/50 split (left auth, right brand) === */
@media (max-width: 768px) {
  /* Keep header visible; hide only the things we don't want in mobile header */
  .site-header .header-search,
  .site-header .header-search--muted,
  .site-header .header-bottom {
    display: none !important;
  }/* Right half: brand */
  .site-header .header-right--dk2 {
    display: flex !important;
    flex: 0 0 50%;
    max-width: 50%;
    justify-content: flex-end;
    align-items: center;
    flex-wrap: nowrap;
    min-width: 0;
  }

  /* Prevent brand pushing layout */
  .site-header .brand-link--plain {
    max-width: 100%;
    min-width: 0;
    overflow: hidden;
  }
  .site-header .brand-title--grad {
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }

  /* Keep auth chip from expanding */
  .site-header .auth-trigger,
  .site-header .user-menu__trigger {
    max-width: 100%;
  }

  /* If you still keep bottom-nav auth, hide it to avoid duplicates */
  #bnAuthBtn {
    display: none !important;
  }
}

/* === Mobile header: 50/50 split (left auth, right brand) === */
@media (max-width: 768px) {
  /* Keep header visible; hide only the things we don't want in mobile header */
  .site-header .header-search,
  .site-header .header-search--muted,
  .site-header .header-bottom {
    display: none !important;
  }/* Right half: brand */
  .site-header .header-right--dk2 {
    display: flex !important;
    flex: 0 0 50%;
    max-width: 50%;
    /* In RTL, flex-start aligns to the RIGHT edge (brand must stay on the right). */
    justify-content: flex-start;
    align-items: center;
    flex-wrap: nowrap;
    min-width: 0;
  }

  /* Prevent brand from pushing auth */
  .site-header .brand-link--plain {
    max-width: 100%;
    min-width: 0;
  }
  .site-header .brand-title--grad {
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    max-width: 100%;
  }

  /* Avoid duplicate login entry: bottom nav auth button hidden when header auth is present */
  #bnAuthBtn {
    display: none !important;
  }
}

/* === Header layout single source of truth (desktop + mobile) === */
.site-header .header-top--dk2{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:16px;
  flex-wrap:nowrap;
}

.site-header .header-right--dk2,
.site-header .header-left--dk2{
  flex:0 0 50%;
  max-width:50%;
  display:flex;
  align-items:center;
}

/* RTL alignment: brand on right, auth on left */
.site-header .header-right--dk2{ justify-content:flex-start; }
.site-header .header-left--dk2{ justify-content:flex-end; }

.site-header .header-top .container{
  width:100%;
  max-width:none;
  padding-inline:16px;
  display:flex;
  align-items:center;
}

/* Mobile safety: keep header one-line */
@media (max-width:768px){
  .site-header .header-top--dk2{flex-wrap:nowrap;}
  .site-header .header-right--dk2,
  .site-header .header-left--dk2{min-width:0;}
}

/* === Mobile: force header split one-line (left/right 50%) === */
@media (max-width: 768px){
  .site-header .header-top--dk2{
    display: flex !important;
    align-items: center !important;
    justify-content: space-between !important;
    flex-wrap: nowrap !important;
    gap: 12px !important;
  }
  .site-header .header-right--dk2,
  .site-header .header-left--dk2{
    flex: 0 0 50% !important;
    max-width: 50% !important;
    width: 50% !important;
    display: flex !important;
    align-items: center !important;
    white-space: nowrap !important;
    min-width: 0 !important;
  }
  /* RTL intention: brand right, auth left */
  .site-header .header-right--dk2{ justify-content: flex-start !important; }
  .site-header .header-left--dk2{ justify-content: flex-end !important; }
}